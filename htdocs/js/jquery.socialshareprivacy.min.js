(function(a,b){"use strict";function c(b,c){if(c||(c=document.baseURI||a("html > head > base").last().attr("href")||document.location.href),!b)return c;if(/^[a-z][-+\.a-z0-9]*:/i.test(b))return b;if("//"===b.slice(0,2))return/^[^:]+:/.exec(c)[0]+b;var d=b.charAt(0);if("/"===d)return/^file:/i.test(c)?"file://"+b:/^[^:]+:\/*[^\/]+/i.exec(c)[0]+b;if("#"===d)return c.replace(/#.*$/,"")+b;if("?"===d)return c.replace(/[\?#].*$/,"")+b;var e;if(/^file:/i.test(c))e=c.replace(/^file:\/{0,2}/i,""),c="file://";else{var f=/^([^:]+:\/*[^\/]+)(\/.*?)?(\?.*?)?(#.*)?$/.exec(c);c=f[1],e=f[2]||"/"}return e=e.split("/"),e.pop(),0===e.length&&e.push(""),e.push(b),c+e.join("/")}function d(b,c,d){var e=d&&d.title;if("function"==typeof e&&(e=e.call(this,b,c,d)),e)return e;var e=a('meta[name="DC.title"]').attr("content"),f=a('meta[name="DC.creator"]').attr("content");return e&&f?e+" - "+f:e||a('meta[property="og:title"]').attr("content")||a("title").text()}function e(b,c,d){var e=d&&d.description;return"function"==typeof e&&(e=e.call(this,b,c,d)),e?e:h(a('meta[name="twitter:description"]').attr("content")||a('meta[itemprop="description"]').attr("content")||a('meta[name="description"]').attr("content")||a.trim(a("article, p").first().text())||a.trim(a("body").text()),3500)}function g(b,d,e){var g,h=e&&e.image;return"function"==typeof h&&(h=h.call(this,b,d,e)),h||(g=a('meta[property="image"], meta[property="og:image"], meta[property="og:image:url"], meta[name="twitter:image"], link[rel="image_src"], itemscope *[itemprop="image"]').first(),g.length>0&&(h=g.attr(f[g[0].nodeName]))),h?c(h):(g=a("img").filter(":visible").filter(function(){return 0===a(this).parents(".social_share_privacy_area").length}),0===g.length?(h=a('link[rel~="shortcut"][rel~="icon"]').attr("href"),h?c(h):"http://www.google.com/s2/favicons?"+a.param({domain:location.hostname})):(g.sort(function(a,b){return b.offsetWidth*b.offsetHeight-a.offsetWidth*a.offsetHeight}),g[0].src))}function h(a,b){if(b>=unescape(encodeURIComponent(a)).length)return a;var c=a.slice(0,b-3);if(!/\W/.test(a.charAt(b-3))){var d=/^(.*)\s\S*$/.exec(c);d&&(c=d[1])}return c+"\u2026"}function j(a){return a.replace(/[<>&"']/g,function(a){return i[a]})}function k(b,c,d){var e=d&&d.embed;if("function"==typeof e&&(e=e.call(this,b,c,d)),e)return e;e=['<iframe scrolling="no" frameborder="0" style="border:none;" allowtransparency="true"'];var f=a('meta[name="twitter:player"]').attr("content");if(f){var g=a('meta[name="twitter:player:width"]').attr("content"),h=a('meta[name="twitter:player:height"]').attr("content");g&&e.push(' width="',j(g),'"'),h&&e.push(' height="',j(h),'"')}else f=c+b.referrer_track;return e.push(' src="',j(f),'"></iframe>'),e.join("")}function l(b){var d=document.location.href,e=a("link[rel=canonical]").attr("href")||a('head meta[property="og:url"]').attr("content");return e?d=c(e):b&&b.ignore_fragment&&(d=d.replace(/#.*$/,"")),d}function m(b){function c(d){var e=a(this).parents("li.help_info").first(),f=e.parents(".social_share_privacy_area").first().parent(),g=f.data("social-share-privacy-options"),h=g.services[b],i=h.button_class||b,j=g.uri;"function"==typeof j&&(j=j.call(f[0],g));var k=e.find("span.switch");k.hasClass("off")?(e.addClass("info_off"),k.addClass("on").removeClass("off").html(h.txt_on||"\u00a0"),e.find("img.privacy_dummy").replaceWith("function"==typeof h.button?h.button.call(e.parent().parent()[0],h,j,g):h.button),f.trigger({type:"socialshareprivacy:enable",serviceName:b,isClick:!d.isTrigger})):(e.removeClass("info_off"),k.addClass("off").removeClass("on").html(h.txt_off||"\u00a0"),e.find(".dummy_btn").empty().append(a("<img/>").addClass(i+"_privacy_dummy privacy_dummy").attr({alt:h.dummy_alt,src:h.path_prefix+("line"===g.layout?h.dummy_line_img:h.dummy_box_img)}).click(c)),f.trigger({type:"socialshareprivacy:disable",serviceName:b,isClick:!d.isTrigger}))}return c}function n(){var b=a(this);if(!b.hasClass("info_off")){var c=window.setTimeout(function(){b.addClass("display"),b.removeData("timeout_id")},500);b.data("timeout_id",c)}}function o(){var c=a(this),d=c.data("timeout_id");d!==b&&window.clearTimeout(d),c.removeClass("display")}function p(){var b=a(this),c=b.parents(".social_share_privacy_area").first().parent(),d=c.data("social-share-privacy-options");b.is(":checked")?(d.set_perma_option(b.attr("data-service"),d),b.parent().addClass("checked")):(d.del_perma_option(b.attr("data-service"),d),b.parent().removeClass("checked"))}function q(){var b=a(this),c=window.setTimeout(function(){b.find(".settings_info_menu").removeClass("off").addClass("on"),b.removeData("timeout_id")},500);b.data("timeout_id",c)}function r(){var c=a(this),d=c.data("timeout_id");d!==b&&window.clearTimeout(d),c.find(".settings_info_menu").removeClass("on").addClass("off")}function s(b,c){a.cookie("socialSharePrivacy_"+b,"perma_on",c.cookie_expires,c.cookie_path,c.cookie_domain)}function t(b,c){a.cookie("socialSharePrivacy_"+b,null,-1,c.cookie_path,c.cookie_domain)}function u(a,b){return!!b.get_perma_options(b)[a]}function v(){var c=a.cookie(),d={};for(var e in c){var f=/^socialSharePrivacy_(.+)$/.exec(e);f&&(d[f[1]]="perma_on"===c[e])}return d}function w(b){if("string"==typeof b){var c=b;if(1===arguments.length)switch(c){case"enable":this.find(".switch.off").click();break;case"disable":this.find(".switch.on").click();break;case"toggle":this.find(".switch").click();break;case"options":return this.data("social-share-privacy-options");case"destroy":this.trigger({type:"socialshareprivacy:destroy"}),this.children(".social_share_privacy_area").remove(),this.removeData("social-share-privacy-options");break;default:throw Error("socialSharePrivacy: unknown command: "+c)}else{var d=arguments[1];switch(c){case"enable":this.each(function(){var b=a(this),c=b.data("social-share-privacy-options");b.find("."+(c.services[d].class_name||d)+" .switch.off").click()});break;case"disable":this.each(function(){var b=a(this),c=b.data("social-share-privacy-options");b.find("."+(c.services[d].class_name||d)+" .switch.on").click()});break;case"toggle":this.each(function(){var b=a(this),c=b.data("social-share-privacy-options");b.find("."+(c.services[d].class_name||d)+" .switch").click()});break;case"option":if(!(arguments.length>2))return this.data("social-share-privacy-options")[d];var e={};e[d]=arguments[2],this.each(function(){a.extend(!0,a(this).data("social-share-privacy-options"),e)});break;case"options":a.extend(!0,b,d);break;default:throw Error("socialSharePrivacy: unknown command: "+c)}}return this}return this.each(function(){var c={};this.lang&&(c.language=this.lang);for(var d=0,e=this.attributes;e.length>d;++d){var f=e[d];if(/^data-./.test(f.name)){for(var g=f.name.slice(5).replace(/-/g,"_").split("."),h=c,i=0;g.length-1>i;++i){var j=g[i];j in h?(h=h[j],"string"==typeof h&&(h=Function("$","return ("+h+");").call(this,a))):h=h[j]={}}var j=g[i];h[j]="object"==typeof h[j]?a.extend(!0,Function("$","return ("+f.value+");").call(this,a),h[j]):f.value}}if("cookie_expires"in c&&(c.cookie_expires=Number(c.cookie_expires)),"perma_option"in c&&(c.perma_option="true"===a.trim(c.perma_option).toLowerCase()),"ignore_fragment"in c&&(c.ignore_fragment="true"===a.trim(c.ignore_fragment).toLowerCase()),"set_perma_option"in c&&(c.set_perma_option=Function("service_name","options",c.set_perma_option)),"del_perma_option"in c&&(c.del_perma_option=Function("service_name","options",c.del_perma_option)),"get_perma_option"in c&&(c.get_perma_option=Function("service_name","options",c.get_perma_option)),"get_perma_options"in c&&(c.get_perma_options=Function("options",c.get_perma_options)),"order"in c&&(c.order=a.trim(c.order),c.order?c.order=c.order.split(/\s+/g):delete c.order),"string"==typeof c.services&&(c.services=Function("$","return ("+c.services+");").call(this,a)),"options"in c&&(c=a.extend(c,Function("$","return ("+c.options+");").call(this,a)),delete c.options),"services"in c)for(var k in c.services){var l=c.services[k];"string"==typeof l&&(c.services[k]=Function("$","return ("+l+");").call(this,a)),"string"==typeof l.status&&(l.status="true"===a.trim(l.status).toLowerCase()),"string"==typeof l.perma_option&&(l.perma_option="true"===a.trim(l.perma_option).toLowerCase())}var s=a.extend(!0,{},w.settings,b,c),t=s.order||[],u="line"===s.layout?"dummy_line_img":"dummy_box_img",v=!1,x=!1,y=!1,z=[];for(var k in s.services){var l=s.services[k];l.status&&(v=!0,-1===a.inArray(k,t)&&z.push(k),"safe"!==l.privacy&&(y=!0,l.perma_option&&(x=!0))),"language"in l||(l.language=s.language),"path_prefix"in l||(l.path_prefix=s.path_prefix),"referrer_track"in l||(l.referrer_track="")}if(z.sort(),t=t.concat(z),v){if(s.css_path){var A=(s.path_prefix||"")+s.css_path;document.createStyleSheet?document.createStyleSheet(A):0===a('link[href="'+A+'"]').length&&a("<link/>",{rel:"stylesheet",type:"text/css",href:A}).appendTo(document.head)}var B;if(s.perma_option&&x)if(s.get_perma_options)B=s.get_perma_options(s);else{B={};for(var k in s.services)B[k]=s.get_perma_option(k,s)}var C=s.uri;"function"==typeof C&&(C=C.call(this,s));var D=a('<ul class="social_share_privacy_area"></ul>').addClass(s.layout),E=a(this);E.prepend(D).data("social-share-privacy-options",s);for(var d=0;t.length>d;++d){var k=t[d],l=s.services[k];if(l&&l.status){var H,F=l.class_name||k,G=l.button_class||k;"safe"===l.privacy?(H=a('<li class="help_info"><div class="info">'+l.txt_info+'</div><div class="dummy_btn"></div></li>').addClass(F),H.find(".dummy_btn").addClass(G).append(l.button.call(this,l,C,s))):(H=a('<li class="help_info"><div class="info">'+l.txt_info+'</div><span class="switch off">'+(l.txt_off||"\u00a0")+'</span><div class="dummy_btn"></div></li>').addClass(F),H.find(".dummy_btn").addClass(G).append(a("<img/>").addClass(G+"_privacy_dummy privacy_dummy").attr({alt:l.dummy_alt,src:l.path_prefix+l[u]})),H.find(".dummy_btn img.privacy_dummy, span.switch").click(m(k))),D.append(H)}}if(y){var I=a('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a><span class="help_info icon"><span class="info">'+s.txt_help+"</span></span></a></div></li>"),J=I.find("> .settings_info_menu > a").attr("href",s.info_link);if(s.info_link_target&&J.attr("target",s.info_link_target),D.append(I),D.find(".help_info").on("mouseenter",n).on("mouseleave",o),s.perma_option&&x){var K=D.find("li.settings_info"),L=K.find(".settings_info_menu");L.removeClass("perma_option_off"),L.append('<span class="settings">'+s.txt_settings+"</span><form><fieldset><legend>"+s.settings_perma+"</legend></fieldset></form>");for(var M=L.find("form fieldset"),d=0;t.length>d;++d){var k=t[d],l=s.services[k];if(l&&l.status&&l.perma_option&&"safe"!==l.privacy){var F=l.class_name||k,N=B[k],O=a('<label><input type="checkbox"'+(N?' checked="checked"/>':"/>")+l.display_name+"</label>");O.find("input").attr("data-service",k),M.append(O),N&&(D.find("li."+F+" span.switch").click(),s.set_perma_option(k,s))}}K.find("span.settings").css("cursor","pointer"),K.on("mouseenter",q).on("mouseleave",r),K.find("fieldset input").on("change",p)}}E.trigger({type:"socialshareprivacy:create",options:s})}})}var f={META:"content",IMG:"src",A:"href",IFRAME:"src",LINK:"href"},i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};w.absurl=c,w.escapeHtml=j,w.getTitle=d,w.getImage=g,w.getEmbed=k,w.getDescription=e,w.abbreviateText=h,w.settings={services:{},info_link:"http://panzi.github.com/SocialSharePrivacy/",info_link_target:"",txt_settings:"Settings",txt_help:"If you click to activate the share buttons, data will be loaded from a third party (Facebook, Twitter, Google), allowing them to track your visit to schneier.com. For more details click the [i] button.",settings_perma:"Permanently enable share buttons:",layout:"line",set_perma_option:s,del_perma_option:t,get_perma_options:v,get_perma_option:u,perma_option:!!a.cookie,cookie_path:"/",cookie_domain:document.location.hostname,cookie_expires:365,path_prefix:"",css_path:"scripts/jquery.socialshareprivacy.css",uri:l,language:"en",ignore_fragment:!0},a.fn.socialSharePrivacy=w})(jQuery),function(a){"use strict";var c={af:["ZA"],ar:["AR"],az:["AZ"],be:["BY"],bg:["BG"],bn:["IN"],bs:["BA"],ca:["ES"],cs:["CZ"],cy:["GB"],da:["DK"],de:["DE"],el:["GR"],en:["US","GB","PI","UD"],eo:["EO"],es:["ES","LA"],et:["EE"],eu:["ES"],fa:["IR"],fb:["LT"],fi:["FI"],fo:["FO"],fr:["CA","FR"],fy:["NL"],ga:["IE"],gl:["ES"],he:["IL"],hi:["IN"],hr:["HR"],hu:["HU"],hy:["AM"],id:["ID"],is:["IS"],it:["IT"],ja:["JP"],ka:["GE"],km:["KH"],ko:["KR"],ku:["TR"],la:["VA"],lt:["LT"],lv:["LV"],mk:["MK"],ml:["IN"],ms:["MY"],nb:["NO"],ne:["NP"],nl:["NL"],nn:["NO"],pa:["IN"],pl:["PL"],ps:["AF"],pt:["BR","PT"],ro:["RO"],ru:["RU"],sk:["SK"],sl:["SI"],sq:["AL"],sr:["RS"],sv:["SE"],sw:["KE"],ta:["IN"],te:["IN"],th:["TH"],tl:["PH"],tr:["TR"],uk:["UA"],vi:["VN"],zh:["CN","HK","TW"]};a.fn.socialSharePrivacy.settings.services.facebook={status:!0,button_class:"fb_like",dummy_line_img:"images/dummy_facebook.png",dummy_box_img:"images/dummy_box_facebook.png",dummy_alt:'Facebook "Like"-Dummy',txt_info:"Two clicks for more privacy: The Facebook Like button will be enabled once you click here. No data is loaded from Facebook until you enable the button.  Click the [i] button for more information.",txt_off:"not connected to Facebook",txt_on:"connected to Facebook",perma_option:!0,display_name:"Facebook",referrer_track:"",action:"like",colorscheme:"light",font:"",button:function(b,d,e){var f=/^([a-z]{2})_([A-Z]{2})$/.exec(b.language),g="en_US";if(f){if(f[1]in c){var h=c[f[1]];g=-1!==a.inArray(f[2],h)?b.language:f[1]+"_"+h[0]}}else b.language in c&&(g=b.language+"_"+c[b.language][0]);var i={locale:g,href:d+b.referrer_track,send:"false",show_faces:"false",action:b.action,colorscheme:b.colorscheme};return b.font&&(i.font=b.font),"line"===e.layout?(i.width="120",i.height="20",i.layout="button_count"):(i.width=62,i.height=61,i.layout="box_count"),a('<iframe scrolling="no" frameborder="0" allowtransparency="true"></iframe>').attr("src",("https:"===document.location.protocol?"https:":"http:")+"//www.facebook.com/plugins/like.php?"+a.param(i))}}}(jQuery),function(a){"use strict";a.fn.socialSharePrivacy.settings.services.twitter={status:!0,button_class:"tweet",dummy_line_img:"images/dummy_twitter.png",dummy_box_img:"images/dummy_box_twitter.png",dummy_alt:'"Tweet this"-Dummy',txt_info:"Two clicks for more privacy: The Tweet this button will be enabled once you click here. No data is loaded from Twitter until you enable the button.  Click the [i] button for more information.",txt_off:"not connected to Twitter",txt_on:"connected to Twitter",perma_option:!0,display_name:"Twitter",referrer_track:"",via:"",related:"",hashtags:"",dnt:!0,text:a.fn.socialSharePrivacy.getTitle,button:function(b,c,d){var e="function"==typeof b.text?b.text.call(this,b,c,d):b.text+"";e=a.fn.socialSharePrivacy.abbreviateText(e,120);var f={url:c+b.referrer_track,counturl:c,text:e,count:"line"===d.layout?"horizontal":"vertical",lang:b.language};return b.via&&(f.via=b.via),b.related&&(f.related=b.related),b.hashtags&&(f.hashtags=b.hashtags),b.dnt&&(f.dnt=b.dnt),a('<iframe allowtransparency="true" frameborder="0" scrolling="no"></iframe>').attr("src",("https:"===document.location.protocol?"https:":"http:")+"//platform.twitter.com/widgets/tweet_button.html?"+a.param(f).replace(/\+/g,"%20"))}}}(jQuery),function(a){"use strict";a.fn.socialSharePrivacy.settings.services.gplus={status:!0,button_class:"gplusone",dummy_line_img:"images/dummy_gplus.png",dummy_box_img:"images/dummy_box_gplus.png",dummy_alt:'"Google+1"-Dummy',txt_info:"Two clicks for more privacy: The Google+ button will be enabled once you click here. No data is loaded from Google until you enable the button.  Click the [i] button for more information.",txt_off:"not connected to Google+",txt_on:"connected to Google+",perma_option:!0,display_name:"Google+",referrer_track:"",button:function(b,c,d){var e=a('<div class="g-plusone"></div><script type="text/javascript">window.___gcfg = {lang: "'+b.language.replace("_","-")+'"}; (function() { var po = document.createElement("script"); '+'po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; '+'var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>');return e.filter(".g-plusone").attr({"data-href":c+b.referrer_track,"data-size":"line"===d.layout?"medium":"tall"}),e}}}(jQuery),function(a){"use strict";a.fn.socialSharePrivacy.settings.services.linkedin={status:!0,dummy_line_img:"images/dummy_linkedin.png",dummy_box_img:"images/dummy_box_linkedin.png",dummy_alt:'"LinkedIn"-Dummy',txt_info:"Two clicks for more privacy: The Linked in button will be enabled once you click here. No data is loaded from Linked in until you enable the button.  Click the [i] button for more information.",txt_off:"not connected to LinkedIn",txt_on:"connected to LinkedIn",perma_option:!0,display_name:"LinkedIn",referrer_track:"",onsuccess:null,onerror:null,showzero:!1,button:function(b,c,d){var e="https:"===location.protocol?"https":"http",f={"data-counter":"line"===d.layout?"right":"top","data-url":c+b.referrer_track,"data-showzero":b.showzero+""};b.onsuccess&&(f["data-onsuccess"]=b.onsuccess),b.onerror&&(f["data-onerror"]=b.onerror);var g=a('<script type="IN/Share"></script>').attr(f);return window.IN&&window.IN.parse?g=g.add('<script type="text/javascript">IN.parse(document.body);</script>'):0===a('script[src^="'+e+'://platform.linkedin.com/"]').length&&(g=g.add('<script type="text/javascript" src="'+e+'://platform.linkedin.com/in.js"></script>')),g}}}(jQuery),function(a){"use strict";a.fn.socialSharePrivacy.settings.services.stumbleupon={status:!0,button_class:"stumbleupon",dummy_line_img:"images/dummy_stumbleupon.png",dummy_box_img:"images/dummy_box_stumbleupon.png",dummy_alt:'"Stumble!"-Dummy',txt_info:"Two clicks for more privacy: The Stumble! button will be enabled once you click here. No data is loaded from StumbleUpon until you enable the button.  Click the [i] button for more information.",txt_off:"not connected to StumbleUpon",txt_on:"connected to StumbleUpon",perma_option:!0,display_name:"Stumble Upon",referrer_track:"",button:function(b,c,d){var f,g,e="https:"===document.location.protocol?"https://":"http://";return"line"===d.layout?(f="74",g="18",e+="badge.stumbleupon.com/badge/embed/1/?"):(f="50",g="60",e+="badge.stumbleupon.com/badge/embed/5/?"),a('<iframe allowtransparency="true" frameborder="0" scrolling="no"></iframe>').attr({src:e+a.param({url:c+b.referrer_track}),width:f,height:g})}}}(jQuery);